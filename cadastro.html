<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Nova Conta</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/login.css">
    
    <style>
        /* Container para deixar o ícone em cima do input */
        .input-com-icone {
            position: relative;
            width: 100%;
        }

        /* O estilo do ícone */
        .icone-olho {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            /* Cor cinza para ficar profissional */
            color: #757575; 
            /* Impede de selecionar o ícone como texto */
            user-select: none;
        }
        
        /* Efeito hover para ficar mais escuro ao passar o mouse */
        .icone-olho:hover {
            color: #424242;
        }
    </style>
</head>
<body>

    <div class="caixa-login">
        <h1>Criar Conta</h1>
        
        <form action="/cadastrar" method="POST" onsubmit="return validarSenhas()">
            <label>Defina seu Usuário</label>
            <input type="text" name="usuario" placeholder="Nome de usuário" required>
            
            <label>Crie uma Senha</label>
            <div class="input-com-icone">
                <input type="password" id="senha" name="senha" placeholder="Sua senha secreta" required>
                <span class="material-icons icone-olho" onclick="toggleSenha(this, 'senha')">visibility_off</span>
            </div>

            <label style="margin-top: 10px; display: block;">Confirme a Senha</label>
            <div class="input-com-icone">
                <input type="password" id="confirma_senha" placeholder="Digite a senha novamente" required>
                <span class="material-icons icone-olho" onclick="toggleSenha(this, 'confirma_senha')">visibility_off</span>
            </div>
            
            <button type="submit" style="margin-top: 20px;">Cadastrar Agora</button>
        </form>
        
        <p style="margin-top: 20px; font-size: 13px;">
            <a href="/">← Voltar para Login</a>
        </p>
    </div>

    <div class="area-animada">
        <ul style="padding: 0; margin: 0;">
            <li class="caixa-flutuante"></li><li class="caixa-flutuante"></li><li class="caixa-flutuante"></li>
            <li class="caixa-flutuante"></li><li class="caixa-flutuante"></li><li class="caixa-flutuante"></li>
            <li class="caixa-flutuante"></li><li class="caixa-flutuante"></li><li class="caixa-flutuante"></li>
            <li class="caixa-flutuante"></li>
        </ul>
    </div>

    <script>
        // Função para alternar o ícone e a visibilidade da senha
        function toggleSenha(elementoIcone, idCampo) {
            const campo = document.getElementById(idCampo);
            
            // Se está oculto (password) -> mostra (text) e muda o ícone para olho aberto
            if (campo.type === "password") {
                campo.type = "text";
                elementoIcone.textContent = 'visibility';
            } 
            // Se está visível (text) -> oculta (password) e muda o ícone para olho riscado
            else {
                campo.type = "password";
                elementoIcone.textContent = 'visibility_off';
            }
        }

        // Função de validação (continua a mesma)
        function validarSenhas() {
            var senha = document.getElementById("senha").value;
            var confirmacao = document.getElementById("confirma_senha").value;
            if (senha !== confirmacao) {
                alert("❌ Erro: As senhas não coincidem! Por favor, verifique.");
                return false; 
            }
            return true;
        }
    </script>

</body>
</html>